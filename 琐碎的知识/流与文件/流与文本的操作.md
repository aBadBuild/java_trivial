# 流与文件\_流与文本的操作

## 流

在java API中，可以从其中读入一个字节序列的对象称为输入流，而可以向其中写入一个字节序列的对象称为输入流。这些字节序列的来源地和目的地可以是文件，而且通常是文件，但是也可以是网络连接，甚至是内存块。

抽象类InputStream和OutputStream构成输入/输出类层次结构的基础。

### 读写字节

InputStream中的抽象方法`read()`，将读入一个字节，并返回读入的字节，或者在遇到输入源结尾时返回-1。

```java
abstract int read()
```

在设计具体的输入流类时，必须覆盖这个方法以提供适用的功能。例如System.in。

与此类似，OutputStream定义了下面的抽象方法：

```java
abstract void write(int b)
```

它可以向某个输出位置写出一个字节。

两个方法在执行时都会将阻塞，直到字节确实被写入或写出。

available方法使我们可以去检查当前可读入的字节数量，这意味着像下面这样的代码片段就不可能被阻塞：

```java
int bytesAvailable = in.available();
if(bytesAvailable > 0){
    byte[] data = new byte[bytesAvailable];
    in.read(data);
}
```

当你完成对流的读写时，应该通过`close()`方法来关闭它。关闭一个输入流的同时还会冲刷用于该输入流的缓冲区，如果不关闭文件，那么写出字节的最后一个报可能永远得不到传递，我们也可以用`flush()`方法来认为冲刷这些输出。

