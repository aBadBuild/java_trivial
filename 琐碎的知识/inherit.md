# 继承

## 超类和子类

用关键字extends表明正在构造的新类派生于一个已存在的类，此时已存在的类被称为超类，新类被称为子类。

子类会继承，即拥有超类里面**非final**的变量和方法，而因此，超类可以使用final去修饰变量或方法来阻止其被继承。

子类往往会比超类的功能要多且强大，子类可以增加域，增加方法或覆盖超类的方法，然而绝对不能删除继承的任何域和方法。

子类想要访问超类的私有域时，可以通过**super.** 来进行调用。然而，和this不同的是，super不是对一个对象的引用，不能将super赋予另一个对象变量。

java不支持多继承，要想使用多继承，可以使用接口。

**覆写：**发生在继承关系中，方法名，参数类型和个数都要相同。由子类进行覆写。子类的方法的类型不能拥有比父类更严格的访问控制权限（public&lt;default&lt;private）。

### 多态

向上转型（自动完成）：父类父类对象= new子类

向下转型（强制转换）：子类子类对象=（子类）父类对象

使用向上转型是为了保持参数的统一；使用向下转型是为了能向上转型之后能够使用子类的特殊方法，所谓特殊方法，就是子类所独有的方法，而非覆写的方法。

由于强制转换，即向下转型会存在安全问题，所以可以在强转之前，先判断对象和类是否有所联系，用的是（对象 instenceof 类），返回值为Boolean。

```java
a instenceof B
```

在向下转型之前，一定要先向上转型，建立关系。

开发之中尽量使用向上转型。

**子类尽量不要过多扩充与父类无关的方法，子类和父类的结构尽量保持一致。**

### 抽象类

使用abstract来修饰，不能被实例化。

**为什么要使用抽象类：**提高程序的清晰度，具有明显的层次和规范，而且一些超类本身只是一个规范，实例化没有意义。

抽象类里的抽象方法充当占位的角色，它们的具体实现在子类中。

### 可访问性

仅对本类可见：private；

对所有类可见：public；

对本包和所有子类可见：protected；

对本包可见：默认。

## 所有类的超类

Object类是Java中所有类的始祖，在Java中每个类都是由它拓展而来。

### equals方法

用于检测是否引用的是同一个对象。

对于static boolean equals\(Object a, Object b\)，如果a和b都为null，放回true，如果其中之一为null，则放回false。

JDK类中有一些类覆盖了oject类的equals\(\)方法，比较规则为：如果两个对象的类型一致，并且内容一致，则返回true,这些类有：java.io.file,java.util.Date,java.lang.string,包装类（Integer,Double等）。

### hashCode方法

散列码是由对象到出的一个整型值，是没有规律的，如果x和y是不同的对象，x.hashCode\(\)!=y.hashCode\(\)。

如果重新定义equals方法，那就必须重新定义hashCode方法。

如果参数为null，这个方法返回0。



